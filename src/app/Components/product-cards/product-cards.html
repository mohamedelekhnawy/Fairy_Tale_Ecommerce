<div class="container py-5">
  <div class="row g-4"> 

    @for (product of products; track product.id) {
      <div class=" col-sm-8 col-md-6 col-lg-4"> 
        <div class="card product-card border-0 rounded-4 shadow-sm h-100">
          <div class="position-relative">
            <div class="overflow-hidden">
              <img 
                [src]="product.images[0]" 
                class="card-img-top product-image img-fluid" 
                [alt]="product.name" appElmentScale>
            </div>
            <i 
              class="fa-heart position-absolute top-0 end-0 m-3 fs-4"
              [ngClass]="{ 'fa-solid text-danger': isFavorite(product.id), 'fa-regular text-dark': !isFavorite(product.id) }"
              (click)="toggleFavorite(product.id)" appElmentScale>
            </i>
          </div>

          <div class="card-body p-4 d-flex flex-column">
            <h5 class="card-title mb-3 fw-bold">{{ product.name }}</h5>
            <p class="card-text text-muted mb-4 flex-grow-1">
              {{ product.description | truncate:80:true }}
            </p>
            <div class="d-flex justify-content-between align-items-center mt-auto">
              <span class="price">${{ product.price }}</span>
              <button class="btn  btn-sm text-light px-3 py-2 rounded-3" style="background-color: #9b4d63;" appElmentScale>
                Add to Cart
              </button>
            </div>
          </div>
        </div>
      </div>
    }

  </div>
</div>
